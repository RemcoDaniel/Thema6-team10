\hypertarget{class_r_t_o_s_1_1task}{}\section{R\+T\+OS\+:\+:task Class Reference}
\label{class_r_t_o_s_1_1task}\index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}


an independent thread of execution  




{\ttfamily \#include $<$p\+R\+T\+O\+S.\+h$>$}

Inheritance diagram for R\+T\+OS\+:\+:task\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=1.078998cm]{class_r_t_o_s_1_1task}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_r_t_o_s_1_1task_a2a6ca33f9fb074225304f29561c5d826}{task} (unsigned int \hyperlink{class_r_t_o_s_1_1task_ac5a30dff650f3b714491509cabad5dff}{priority}=R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+TY, const char $\ast$tname=\char`\"{}\char`\"{}, unsigned int stacksize=R\+T\+O\+S\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE)
\begin{DoxyCompactList}\small\item\em constructor, specify priority, name and stack size \end{DoxyCompactList}\item 
\hyperlink{class_r_t_o_s_1_1task_a5035326ddaf51d9219a17ca6c5a23c83}{$\sim$task} (void)\hypertarget{class_r_t_o_s_1_1task_a5035326ddaf51d9219a17ca6c5a23c83}{}\label{class_r_t_o_s_1_1task_a5035326ddaf51d9219a17ca6c5a23c83}

\begin{DoxyCompactList}\small\item\em throws an error, beacuse tasks should never be destroyed \end{DoxyCompactList}\item 
virtual void \hyperlink{class_r_t_o_s_1_1task_a2e0e3c92d9479336535a2ef877103f36}{suspend} (void)
\begin{DoxyCompactList}\small\item\em suspend a task (prevent execution until a resume) \end{DoxyCompactList}\item 
virtual void \hyperlink{class_r_t_o_s_1_1task_a841b14aaab18d883959f034510dd9376}{resume} (void)
\begin{DoxyCompactList}\small\item\em continue a suspended task \end{DoxyCompactList}\item 
void \hyperlink{class_r_t_o_s_1_1task_aa3eec7220a2724d30e2156cc395035f2}{release} (void)
\begin{DoxyCompactList}\small\item\em release the C\+PU to the scheduler \end{DoxyCompactList}\item 
void \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep} (unsigned int time)
\begin{DoxyCompactList}\small\item\em wait for some time \end{DoxyCompactList}\item 
unsigned int \hyperlink{class_r_t_o_s_1_1task_ac5a30dff650f3b714491509cabad5dff}{priority} (void) const \hypertarget{class_r_t_o_s_1_1task_ac5a30dff650f3b714491509cabad5dff}{}\label{class_r_t_o_s_1_1task_ac5a30dff650f3b714491509cabad5dff}

\begin{DoxyCompactList}\small\item\em report the task priority \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{class_r_t_o_s_1_1task_a56e4d07750c49b6620b0407013b177c1}{name} (void) const \hypertarget{class_r_t_o_s_1_1task_a56e4d07750c49b6620b0407013b177c1}{}\label{class_r_t_o_s_1_1task_a56e4d07750c49b6620b0407013b177c1}

\begin{DoxyCompactList}\small\item\em report the task name \end{DoxyCompactList}\item 
bool \hyperlink{class_r_t_o_s_1_1task_ab02fe6432956956957bb2629dc9a3031}{is\+\_\+suspended} (void) const \hypertarget{class_r_t_o_s_1_1task_ab02fe6432956956957bb2629dc9a3031}{}\label{class_r_t_o_s_1_1task_ab02fe6432956956957bb2629dc9a3031}

\begin{DoxyCompactList}\small\item\em report whether the task is currently suspended \end{DoxyCompactList}\item 
bool \hyperlink{class_r_t_o_s_1_1task_a1e0b2566b673b0e4e6efd63a80284d35}{is\+\_\+blocked} (void) const \hypertarget{class_r_t_o_s_1_1task_a1e0b2566b673b0e4e6efd63a80284d35}{}\label{class_r_t_o_s_1_1task_a1e0b2566b673b0e4e6efd63a80284d35}

\begin{DoxyCompactList}\small\item\em report whether the task is currently blocked \end{DoxyCompactList}\item 
bool \hyperlink{class_r_t_o_s_1_1task_a8ec666474a7668f78da3438dfa818a8e}{is\+\_\+ready} (void) const \hypertarget{class_r_t_o_s_1_1task_a8ec666474a7668f78da3438dfa818a8e}{}\label{class_r_t_o_s_1_1task_a8ec666474a7668f78da3438dfa818a8e}

\begin{DoxyCompactList}\small\item\em report whether the task is currently ready for execution \end{DoxyCompactList}\item 
void \hyperlink{class_r_t_o_s_1_1task_ac94209dd2efea030a70d48dabc890f38}{print} (std\+::ostream \&stream, bool header=true) const \hypertarget{class_r_t_o_s_1_1task_ac94209dd2efea030a70d48dabc890f38}{}\label{class_r_t_o_s_1_1task_ac94209dd2efea030a70d48dabc890f38}

\begin{DoxyCompactList}\small\item\em print task statistics \end{DoxyCompactList}\item 
\hyperlink{class_r_t_o_s_1_1event}{event} \hyperlink{class_r_t_o_s_1_1task_a6fc603d0f1c8a94813586d3dfd123fcc}{wait} (void)
\begin{DoxyCompactList}\small\item\em wait for all waitables created for this task \end{DoxyCompactList}\item 
\hyperlink{class_r_t_o_s_1_1event}{event} \hyperlink{class_r_t_o_s_1_1task_a7b20fada91e6d232f6791ebc9675e3fc}{wait} (const \hyperlink{class_r_t_o_s_1_1waitable}{waitable} \&w)
\begin{DoxyCompactList}\small\item\em wait for a single waitable \end{DoxyCompactList}\item 
\hyperlink{class_r_t_o_s_1_1event}{event} \hyperlink{class_r_t_o_s_1_1task_a09111916c62632df3042f5991ac7ab42}{wait} (const \hyperlink{class_r_t_o_s_1_1event}{event} \&\hyperlink{class_r_t_o_s_1_1task_aea8c0cfa2cb431922880cb948ada8854}{set})
\begin{DoxyCompactList}\small\item\em wait for a set of waitables \end{DoxyCompactList}\item 
void \hyperlink{class_r_t_o_s_1_1task_aea8c0cfa2cb431922880cb948ada8854}{set} (\hyperlink{class_r_t_o_s_1_1flag}{flag} \&f)\hypertarget{class_r_t_o_s_1_1task_aea8c0cfa2cb431922880cb948ada8854}{}\label{class_r_t_o_s_1_1task_aea8c0cfa2cb431922880cb948ada8854}

\begin{DoxyCompactList}\small\item\em set a flag \end{DoxyCompactList}\item 
void \hyperlink{class_r_t_o_s_1_1task_a0ea383a40c40d9f69fe8e29fb36fa40d}{ignore\+\_\+activation\+\_\+time} (void)
\begin{DoxyCompactList}\small\item\em ignore this activation for the statistics \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
virtual void \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main} (void)=0
\begin{DoxyCompactList}\small\item\em task body, must be provided by a derived class \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
class {\bfseries periodic\+\_\+task}\hypertarget{class_r_t_o_s_1_1task_a01d2f5a71b8cd797b5f01fb6940ea353}{}\label{class_r_t_o_s_1_1task_a01d2f5a71b8cd797b5f01fb6940ea353}

\item 
class {\bfseries waitable\+\_\+set}\hypertarget{class_r_t_o_s_1_1task_a0ee29d8961a0b67cea2c3fa76da116da}{}\label{class_r_t_o_s_1_1task_a0ee29d8961a0b67cea2c3fa76da116da}

\item 
class {\bfseries flag}\hypertarget{class_r_t_o_s_1_1task_a2d8be07618a92a592c4905e969f9927f}{}\label{class_r_t_o_s_1_1task_a2d8be07618a92a592c4905e969f9927f}

\item 
class {\bfseries R\+T\+OS}\hypertarget{class_r_t_o_s_1_1task_aa5b30b5b619f01a5d94b779bf0e58610}{}\label{class_r_t_o_s_1_1task_aa5b30b5b619f01a5d94b779bf0e58610}

\item 
void {\bfseries task\+\_\+trampoline} (void)\hypertarget{class_r_t_o_s_1_1task_a972487b0f63ae9fefb7f6642dae2d452}{}\label{class_r_t_o_s_1_1task_a972487b0f63ae9fefb7f6642dae2d452}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
an independent thread of execution 

A task is an independent thread of execution, using its own stack. Tasks share the single C\+PU, so only one task can be running at any time. \hyperlink{class_the}{The} \hyperlink{class_r_t_o_s}{R\+T\+OS} determines which task is running. A task has two bi-\/value states that determine whether the task is runnable\+: the suspended/resumed flag and the waiting/non-\/waiting flag. A task is runnable only when it is both resumed, and non-\/waiting. When a task is created it is resumed and non-\/waiting. All tasks (and the \hyperlink{class_r_t_o_s}{R\+T\+OS} code) run in the same memory space, without protection from each other. So a \textquotesingle{}wild pointer\textquotesingle{} in one task can destroy data in another task, or even in the \hyperlink{class_r_t_o_s}{R\+T\+OS}.

Each task is created with a fixed priority, which can be any unsigned integer value below R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+TY (= 98). After creation the priority can not be changed. \hyperlink{class_the}{The} value 0 indicates the highest task priority, a higher number indicates a lower priority. Each task must have a unqiue priority, it is an error to create a task with same priority as an existing task. You can omit the priority, in which case the \hyperlink{class_r_t_o_s}{R\+T\+OS} will select an unused priority starting at R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+TY (in other words, it will choose a low priority for your task).

Each task has its own stack. You can specify the size of the stack at task creation. If you omit the stack size, R\+T\+O\+S\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+ZE will be used (default\+: 4 Kb). This will be enough for most tasks, if you take care not to allocate big things on the stack, and avoid very deep nesting (watch out for recursion!).

A task is created by instatiating a class that derives from \hyperlink{class_r_t_o_s_1_1task}{R\+T\+O\+S\+::task} and supplies a \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main()}. This \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main()} should never return. \hyperlink{class_the}{The} fragment below shows how you can do this. \hyperlink{class_the}{The} task name is used for statistics and debugging. As shown for the name, it might be wise to get the task parameters as arguments to the constructor of your task.


\begin{DoxyCode}
\textcolor{keyword}{class }my\_task\_class : \textcolor{keyword}{public} \hyperlink{class_r_t_o_s_1_1task}{RTOS::task} \{
\textcolor{keyword}{public}:
   my\_task\_class( \textcolor{keyword}{const} \textcolor{keywordtype}{char} * \hyperlink{class_r_t_o_s_1_1task_a56e4d07750c49b6620b0407013b177c1}{name} ):
      \hyperlink{class_r_t_o_s_1_1task_a2a6ca33f9fb074225304f29561c5d826}{task}(
         name,  \textcolor{comment}{// name of the task}
         10,    \textcolor{comment}{// task priority}
         16384  \textcolor{comment}{// task stack size}
      )\{\}
\textcolor{keyword}{private}:
   \textcolor{keywordtype}{void} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main}( \textcolor{keywordtype}{void} )\{
      \textcolor{comment}{// put the code of your task here}
   \}
\};
my\_task\_class my\_task( \textcolor{stringliteral}{"my first task"} );
my\_task\_class my\_task( \textcolor{stringliteral}{"my second task"} );
\end{DoxyCode}


\hyperlink{class_the}{The} example below is a complete program that shows the standard part (initialization, and a main that calls \hyperlink{class_r_t_o_s_a27731fa3169d3337e826ff0c9994c384}{R\+T\+O\+S\+::run()}), a function for writing to an individual L\+ED, a task class that blinks a L\+ED, and two instatiations of this class. Note that the \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep()} call is used instead of mkt\+\_\+wait\+\_\+ms or mkt\+\_\+wait\+\_\+us. Sleep() causes other tasks to run while this task is waiting, whereas the mkt\+\_\+wait\+\_\+$\ast$ calls would use monopolize the C\+PU to do a busy wait.

Subsequent examples will not show the standard initialization (the part up to the comment line).


\begin{DoxyCode}
\textcolor{preprocessor}{#include "pRTOS.h"}

\textcolor{keywordtype}{int} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main}( \textcolor{keywordtype}{void} ) \{
   \hyperlink{class_r_t_o_s_a27731fa3169d3337e826ff0c9994c384}{RTOS::run}();
   \textcolor{keywordflow}{return} 0;
\}

\textcolor{comment}{// end of standard part}

\textcolor{keyword}{class }blinker : \textcolor{keyword}{public} \hyperlink{class_r_t_o_s_1_1task}{RTOS::task} \{
\textcolor{keyword}{public}:
   blinker( \textcolor{keywordtype}{int} LED, \textcolor{keywordtype}{int} period ):
      LED( LED ), period( period )\{\}
\textcolor{keyword}{private}:
   \textcolor{keywordtype}{int} LED, period;
   \textcolor{keywordtype}{void} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main}( \textcolor{keywordtype}{void} )\{
      \textcolor{keywordflow}{for}( ; ; ) \{
         led\_set( LED, 1 );
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( period / 2 );
         led\_set( LED, 0 );
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( period / 2 );
      \}
   \}
\};

blinker led0( 0, 1000 MS );
blinker led1( 1,  300 MS );
\end{DoxyCode}


A task can be suspended and resumed by the \hyperlink{class_r_t_o_s_1_1task_a2e0e3c92d9479336535a2ef877103f36}{task\+::suspend()} and \hyperlink{class_r_t_o_s_1_1task_a841b14aaab18d883959f034510dd9376}{task\+::resume()} calls. \hyperlink{class_the}{The} suspend/resume state does not count the number of suspends and resumes\+: a suspend call on an already suspended task (or a resume on an already resumed task) has no effect. Suspend and resume are intended for use by the application code\+: the \hyperlink{class_r_t_o_s}{R\+T\+OS} will never suspend or resume a task. (\hyperlink{class_the}{The} \hyperlink{class_r_t_o_s}{R\+T\+OS} uses the waiting/non-\/waiting state, which can not be changed directly by the application.)

\hyperlink{class_the}{The} example below shows one task that beeps the speaker at 1 k\+Hz, while the other taks suspends and resumes the first task to make it beep 5 times, after which it suspends itself, which ends all activity. (This will trigger the \hyperlink{class_r_t_o_s}{R\+T\+OS} deadlock detection, because a normal embedded application should never terminate.)


\begin{DoxyCode}
\textcolor{keyword}{class }beeper : \textcolor{keyword}{public} \hyperlink{class_r_t_o_s_1_1task}{RTOS::task} \{
\textcolor{keyword}{public}:
   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} speaker;
   beeper( \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} speaker ): speaker( speaker )\{\}
   \textcolor{keywordtype}{void} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main}( \textcolor{keywordtype}{void} )\{
      mkt\_pin\_configure( speaker, mkt\_output);
      \textcolor{keywordflow}{for}( ; ; ) \{
         mkt\_pin\_write( speaker, 1  );
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( 500 US );
         mkt\_pin\_write( speaker, 0  );
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( 500 US );
      \}
   \}
\};
beeper speaker( 10 );

\textcolor{keyword}{class }suspender : \textcolor{keyword}{public} \hyperlink{class_r_t_o_s_1_1task}{RTOS::task} \{
   \textcolor{keywordtype}{void} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main}( \textcolor{keywordtype}{void} )\{
      \textcolor{keywordflow}{for}( \textcolor{keywordtype}{int} i = 0; i < 5 ; i++ ) \{
         speaker.resume();
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( 500 MS );
         speaker.suspend();
         \hyperlink{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{sleep}( 1 S );
      \}
      \hyperlink{class_r_t_o_s_1_1task_a2e0e3c92d9479336535a2ef877103f36}{suspend}();
   \}
\};
suspender task2;
\end{DoxyCode}
 

\subsection{Constructor \& Destructor Documentation}
\index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!task@{task}}
\index{task@{task}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{task(unsigned int priority=\+R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+T\+Y, const char $\ast$tname="""", unsigned int stacksize=\+R\+T\+O\+S\+\_\+\+D\+E\+F\+A\+U\+L\+T\+\_\+\+S\+T\+A\+C\+K\+\_\+\+S\+I\+Z\+E)}{task(unsigned int priority=RTOS_MIN_PRIORITY, const char *tname="", unsigned int stacksize=RTOS_DEFAULT_STACK_SIZE)}}]{\setlength{\rightskip}{0pt plus 5cm}R\+T\+O\+S\+::task\+::task (
\begin{DoxyParamCaption}
\item[{unsigned int}]{priority = {\ttfamily RTOS\+\_\+MIN\+\_\+PRIORITY}, }
\item[{const char $\ast$}]{tname = {\ttfamily \char`\"{}\char`\"{}}, }
\item[{unsigned int}]{stacksize = {\ttfamily RTOS\+\_\+DEFAULT\+\_\+STACK\+\_\+SIZE}}
\end{DoxyParamCaption}
)}\hypertarget{class_r_t_o_s_1_1task_a2a6ca33f9fb074225304f29561c5d826}{}\label{class_r_t_o_s_1_1task_a2a6ca33f9fb074225304f29561c5d826}


constructor, specify priority, name and stack size 

Priorities are reasonably-\/valued (below R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+TY) unsigned integers. 0 is te highest priority. Priorities must be unqiue. \hyperlink{class_the}{The} default causes the constructor to choose a free priority starting at R\+T\+O\+S\+\_\+\+M\+I\+N\+\_\+\+P\+R\+I\+O\+R\+I\+TY (default\+: 1000).

\hyperlink{class_the}{The} name is used for debugging and statistics.

A stack of stack\+\_\+size bytes is allocated for the task. \hyperlink{class_the}{The} default is 4 kB. 

\subsection{Member Function Documentation}
\index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!ignore\+\_\+activation\+\_\+time@{ignore\+\_\+activation\+\_\+time}}
\index{ignore\+\_\+activation\+\_\+time@{ignore\+\_\+activation\+\_\+time}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{ignore\+\_\+activation\+\_\+time(void)}{ignore_activation_time(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void R\+T\+O\+S\+::task\+::ignore\+\_\+activation\+\_\+time (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_r_t_o_s_1_1task_a0ea383a40c40d9f69fe8e29fb36fa40d}{}\label{class_r_t_o_s_1_1task_a0ea383a40c40d9f69fe8e29fb36fa40d}


ignore this activation for the statistics 

Calling this function makes the \hyperlink{class_r_t_o_s}{R\+T\+OS} statistics ignore the current task activation as far as statistics is concerned. You can use this to avoid pullution of your task statistics with the timing effects of debug logging. But make sure you don\textquotesingle{}t use it in the \textquotesingle{}normal\textquotesingle{} execution paths, because that would make the statistics lie to you. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!main@{main}}
\index{main@{main}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{main(void)=0}{main(void)=0}}]{\setlength{\rightskip}{0pt plus 5cm}virtual void R\+T\+O\+S\+::task\+::main (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [protected]}, {\ttfamily [pure virtual]}}\hypertarget{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{}\label{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}


task body, must be provided by a derived class 

A task is created by inheriting from task and providing a \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main()} function. Initialisation of the task, including creating its waitables, should be done in the constructor. Don\textquotesingle{}t forget to call the constructor of the task class!

\hyperlink{class_the}{The} \hyperlink{class_r_t_o_s_1_1task_addc6d52f8792ddba1158d7ae5ef0037d}{main()} is the body of the task. It should never terminate.

Each task has a unique priority (an unsigned integer). A lower value indicates a higher priority. \hyperlink{class_the}{The} \hyperlink{class_r_t_o_s}{R\+T\+OS} scheduler will always run the task with the higest-\/priority runnable (neither blocked nor suspended) task. A task runs until it changes this \textquotesingle{}situation\textquotesingle{} by using an \hyperlink{class_r_t_o_s}{R\+T\+OS} call that changes its own state to not runnable, or the state of a higher priority task to runnable.

Timers are served only when the \hyperlink{class_r_t_o_s}{R\+T\+OS} is activated by calling any of its state-\/changing interfaces. Hence the longest run time between such calls determines the granularity (time wise responsiveness) of the application. Within a time consuming computation a task can call \hyperlink{class_r_t_o_s_1_1task_aa3eec7220a2724d30e2156cc395035f2}{release()} to have the \hyperlink{class_r_t_o_s}{R\+T\+OS} serve the timers. 

Implemented in \hyperlink{class_motor_controller_acf35f82b30986fb4702933d21eee03ea}{Motor\+Controller}, \hyperlink{class_washing_machine_controller_a0d955e011f1f59e902fb62e4d03fc883}{Washing\+Machine\+Controller}, \hyperlink{class_water_controller_a617fdcb283f49ef2e512a75fe5a72950}{Water\+Controller}, \hyperlink{class_temp_controller_a2e2a50ee8bc46aade551f39839a43baf}{Temp\+Controller}, \hyperlink{class_door_soap_controller_ac8ad8ea136b4ff66805419f394c5acc0}{Door\+Soap\+Controller}, and \hyperlink{class_u_a_r_t_a1152951cf37d51a378dc1bb25d36a37d}{U\+A\+RT}.

\index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!release@{release}}
\index{release@{release}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{release(void)}{release(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void R\+T\+O\+S\+::task\+::release (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}\hypertarget{class_r_t_o_s_1_1task_aa3eec7220a2724d30e2156cc395035f2}{}\label{class_r_t_o_s_1_1task_aa3eec7220a2724d30e2156cc395035f2}


release the C\+PU to the scheduler 

Sevices timers and releases the C\+PU to a higher priority task if is ready. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!resume@{resume}}
\index{resume@{resume}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{resume(void)}{resume(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void R\+T\+O\+S\+::task\+::resume (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_r_t_o_s_1_1task_a841b14aaab18d883959f034510dd9376}{}\label{class_r_t_o_s_1_1task_a841b14aaab18d883959f034510dd9376}


continue a suspended task 

Has no effect when the task is not suspended.

Can be extended by an application task to suit its needs. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!sleep@{sleep}}
\index{sleep@{sleep}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{sleep(unsigned int time)}{sleep(unsigned int time)}}]{\setlength{\rightskip}{0pt plus 5cm}void R\+T\+O\+S\+::task\+::sleep (
\begin{DoxyParamCaption}
\item[{unsigned int}]{time}
\end{DoxyParamCaption}
)}\hypertarget{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}{}\label{class_r_t_o_s_1_1task_a9d639b6f1147e0e3dbc603cdd8c52bd4}


wait for some time 

Sleeps the task (prevents execution) for the indicated time. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!suspend@{suspend}}
\index{suspend@{suspend}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{suspend(void)}{suspend(void)}}]{\setlength{\rightskip}{0pt plus 5cm}void R\+T\+O\+S\+::task\+::suspend (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}\hypertarget{class_r_t_o_s_1_1task_a2e0e3c92d9479336535a2ef877103f36}{}\label{class_r_t_o_s_1_1task_a2e0e3c92d9479336535a2ef877103f36}


suspend a task (prevent execution until a resume) 

Suspends the task (prevents execution). Has no effect when the task is already suspended. Can be extended by an application task.

A concrete task can extend this operation to suit its needs. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!wait@{wait}}
\index{wait@{wait}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{wait(void)}{wait(void)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf event} R\+T\+O\+S\+::task\+::wait (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_r_t_o_s_1_1task_a6fc603d0f1c8a94813586d3dfd123fcc}{}\label{class_r_t_o_s_1_1task_a6fc603d0f1c8a94813586d3dfd123fcc}


wait for all waitables created for this task 

Wait (prevent execution) until at least one of the waitables is set. Return and clear that waitable. Three variants for the parameter\+:


\begin{DoxyItemize}
\item \hyperlink{class_the}{The} default (no parameter) waits for all waitables defined for the task.
\item One waitable as argument waits for that specific waitable.
\item \hyperlink{class_the}{The} addition (operator+) of waitables\+: wait for any one of those waitables.
\end{DoxyItemize}

It is an error to wait for waitables that have not been created for this task. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!wait@{wait}}
\index{wait@{wait}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{wait(const waitable \&w)}{wait(const waitable &w)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf event} R\+T\+O\+S\+::task\+::wait (
\begin{DoxyParamCaption}
\item[{const {\bf waitable} \&}]{w}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_r_t_o_s_1_1task_a7b20fada91e6d232f6791ebc9675e3fc}{}\label{class_r_t_o_s_1_1task_a7b20fada91e6d232f6791ebc9675e3fc}


wait for a single waitable 

Wait (prevent execution) until at least one of the waitables is set. Return and clear that waitable. Three variants for the parameter\+:


\begin{DoxyItemize}
\item \hyperlink{class_the}{The} default (no parameter) waits for all waitables defined for the task.
\item One waitable as argument waits for that specific waitable.
\item \hyperlink{class_the}{The} addition (operator+) of waitables\+: wait for any one of those waitables.
\end{DoxyItemize}

It is an error to wait for waitables that have not been created for this task. \index{R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}!wait@{wait}}
\index{wait@{wait}!R\+T\+O\+S\+::task@{R\+T\+O\+S\+::task}}
\subsubsection[{\texorpdfstring{wait(const event \&set)}{wait(const event &set)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf event} R\+T\+O\+S\+::task\+::wait (
\begin{DoxyParamCaption}
\item[{const {\bf event} \&}]{set}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}\hypertarget{class_r_t_o_s_1_1task_a09111916c62632df3042f5991ac7ab42}{}\label{class_r_t_o_s_1_1task_a09111916c62632df3042f5991ac7ab42}


wait for a set of waitables 

Wait (prevent execution) until at least one of the waitables is set. Return and clear that waitable. Three variants for the parameter\+:


\begin{DoxyItemize}
\item \hyperlink{class_the}{The} default (no parameter) waits for all waitables defined for the task.
\item One waitable as argument waits for that specific waitable.
\item \hyperlink{class_the}{The} addition (operator+) of waitables\+: wait for any one of those waitables.
\end{DoxyItemize}

It is an error to wait for waitables that have not been created for this task. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
C\+:/\+Users/jeroen/\+Documents/\+Git\+Hub/\+Thema6-\/team10/visual studio/\+Project1/\+Project1/p\+R\+T\+O\+S.\+h\item 
C\+:/\+Users/jeroen/\+Documents/\+Git\+Hub/\+Thema6-\/team10/visual studio/\+Project1/\+Project1/p\+R\+T\+O\+S.\+cpp\end{DoxyCompactItemize}
